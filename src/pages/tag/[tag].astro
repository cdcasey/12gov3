---
import Posts from '@/components/Posts.astro';
import BaseLayout from '@/layouts/BaseLayout.astro';
import type { Tags } from '@/components/FooterSections/FooterTags.astro';

export async function getStaticPaths() {
	const res = await fetch('https://12go.onetogrowonpod.com/wp-json/wp/v2/tags?per_page=100');

	if (!res.ok) {
		console.log(res);
	}
	const tags: Tags = await res.json();

	return tags.map((tag) => {
		return {
			params: { tag: tag.slug },
			props: { tag },
		};
	});
}

const { tag } = Astro.props;
---

<BaseLayout>
	<Posts tags={[tag.id]} />
</BaseLayout>
